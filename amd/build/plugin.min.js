define(["editor_tiny/loader","editor_tiny/utils","tiny_pumukitmedia/dialogue","tiny_pumukitmedia/configuration","editor_tiny/options"],(function(t,e,i,o,n){"use strict";function r(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(i){if("default"!==i){var o=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:function(){return t[i]}})}})),e.default=t,Object.freeze(e)}var u=r(o);
/**
     * Tiny Pumukitmedia common values.
     *
     * @module      tiny_pumukitmedia/common
     * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
     */const a="tiny_pumukitmedia/plugin",s="tiny_pumukitmedia",g="pumukitmedia",p=n.getPluginOptionName(a,"pumukitmediaurl"),l=n.getPluginOptionName(a,"dialogtitle"),d=n.getPluginOptionName(a,"username"),m=n.getPluginOptionName(a,"email"),c=n.getPluginOptionName(a,"hash"),f=n.getPluginOptionName(a,"showpr"),P=n.getPluginOptionName(a,"showplaylist"),y=n.getPluginOptionName(a,"showsharedvideos"),h=t=>t.options.get(l);return new Promise((async o=>{const[n,r]=await Promise.all([t.getTinyMCE(),e.getPluginMetadata(s,a)]);n.PluginManager.add(`${s}/plugin`,(t=>{(t=>{t.options.register(p,{processor:"string",default:""}),t.options.register(l,{processor:"string",default:""}),t.options.register(d,{processor:"string",default:""}),t.options.register(m,{processor:"string",default:""}),t.options.register(c,{processor:"string",default:""}),t.options.register(f,{processor:"boolean",default:!0}),t.options.register(P,{processor:"boolean",default:!1}),t.options.register(y,{processor:"boolean",default:!0})})(t);return t.ui.registry.addIcon("pumukit",'\n            <svg width="24" height="24" viewBox="0 0 24 24">\n                <path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill="red"></path>\n            </svg>\n        '),t.ui.registry.addButton(g,{icon:"pumukit",tooltip:h(t)||"Insert PuMuKIT Media",onAction:()=>{i.openPumukitDialogue(t)}}),t.ui.registry.addMenuItem(g,{text:"Pumukit Media",icon:"pumukit",classes:"pumukitmedia-button",onAction:()=>{i.openPumukitDialogue(t)}}),r})),o([`${s}/plugin`,u])}))}));
//# sourceMappingURL=plugin.min.js.map
