define(["exports","editor_tiny/options"],(function(e,a){"use strict";
/**
     * Tiny Pumukitmedia common values.
     *
     * @module      tiny_pumukitmedia/common
     * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
     */const n="tiny_pumukitmedia/plugin",i=a.getPluginOptionName(n,"pumukitmediaurl");
/**
     * Options helper for the Moodle Tiny Pumukitmedia plugin.
     *
     * @module      tiny_pumukitmedia/options
     * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
     */a.getPluginOptionName(n,"dialogtitle");const t=a.getPluginOptionName(n,"username"),l=a.getPluginOptionName(n,"email"),r=a.getPluginOptionName(n,"hash");e.openPumukitDialogue=e=>{const a=(e=>e.options.get(i))(e),n=(e=>e.options.get(r))(e),s=(e=>e.options.get(t))(e),o=(e=>e.options.get(l))(e),d=document.documentElement.lang||"en",m=`\n        <ul class="nav nav-tabs" role="tablist" style="margin-bottom:10px;">\n            <li class="active"><a href="#manager" data-toggle="tab">Mis vídeos</a></li>\n            <li><a href="#recorder" data-toggle="tab">Grabador</a></li>\n            <li><a href="#playlist" data-toggle="tab">Playlist</a></li>\n            <li><a href="#shared" data-toggle="tab">Compartidos</a></li>\n        </ul>\n        <div class="tab-content">\n            <div class="tab-pane active" id="manager">\n                <iframe src="${a}/openedx/sso/manager?hash=${n}&username=${s}&email=${o}&lang=${d}"\n                        width="100%" height="500" frameborder="0" allowfullscreen allow="microphone; camera; display-capture"></iframe>\n            </div>\n            <div class="tab-pane" id="recorder">\n                <iframe src="${a}/openedx/sso/personal_recorder?hash=${n}&username=${s}&email=${o}&lang=${d}"\n                        width="100%" height="500" frameborder="0" allowfullscreen allow="microphone; camera; display-capture"></iframe>\n            </div>\n            <div class="tab-pane" id="playlist">\n                <iframe src="${a}/openedx/sso/manager?hash=${n}&username=${s}&email=${o}&lang=${d}&playlist=true"\n                        width="100%" height="500" frameborder="0" allowfullscreen allow="microphone; camera; display-capture"></iframe>\n            </div>\n            <div class="tab-pane" id="shared">\n                <iframe src="${a}/openedx/search/public/multimediaobjects"\n                        width="100%" height="500" frameborder="0" allowfullscreen allow="microphone; camera; display-capture"></iframe>\n            </div>\n        </div>\n    `,p=e.windowManager.open({title:"Insertar vídeo PuMuKIT",body:{type:"panel",items:[{type:"htmlpanel",html:m}]},buttons:[{type:"cancel",text:"Cerrar"}],width:900,height:600,onClose:()=>{window.removeEventListener("message",c)}});function c(n){const i=n.data;if(!i||!i.mmId&&!i.url&&!i.playlist)return;let t="";i.url?t=i.url:i.playlist?t=`${a}/openedx/openedx/playlist/embed/${i.playlist}`:i.mmId&&(t=`${a}/openedx/openedx/embed/${i.mmId}`);const l=`\n            <div class="embed-responsive embed-responsive-16by9">\n                <iframe \n                    class="embed-responsive-item" \n                    src="${t}" \n                    width="100%" \n                    height="400" \n                    frameborder="0" \n                    allowfullscreen \n                    allow="microphone; camera; display-capture">\n                </iframe>\n            </div>\n        `;e.insertContent(l),p.close(),window.removeEventListener("message",c)}window.addEventListener("message",c)}}));
//# sourceMappingURL=dialogue.min.js.map
